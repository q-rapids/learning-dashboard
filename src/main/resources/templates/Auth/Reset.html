<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="Fragments/Template :: header">
</head>
<link rel="stylesheet" th:href="@{/css/bootstrap-select.min.css}" />
<script type="text/javascript" th:src="@{/js/bootstrap-select.min.js}"></script>

<body>

<!-- Application Logo -->
<div th:replace="Fragments/Template :: logo"></div>
<br/>

<div th:replace="Fragments/Template :: alerts"></div>

<div class="row" style="padding:0em 3em;">
    <!-- Container -->
    <div class="col-xs-12 col-sm-12 col-lg-12 full-height">

        <article class="text-frame" style="padding-top:1em;margin-rigth:1em;">

            <h3>Answer the question to reset your password</h3>

            <div class="divisor-black"></div>

            <br/>

            <form id="form" class="full-width" th:object="${appuser}" th:action="@{/reset-trigger}" method="POST" th:fragment="form">

                <input type="hidden" th:name="id" th:value="${appuser.getId()}" hidden="hidden"/>

                <div class="form-group">
                    <label for="appuser_question">Security Question *</label>
                    <select class="selectpicker" th:name="appuser_question" data-width="50%">

                        <option th:value="${appuser.getAppuser_question()?.getId()}"
                                th:text="${appuser.getAppuser_question()?.getQuestion()}"></option>

                    </select>
                </div>

                <div class="form-group">
                    <label for="answer">Answer *</label>
                    <input type="text" class="form-control" th:name="question" th:id="question" />
                </div>

                <button type="submit" class="btn btn-border-black">Setup</button>

            </form>

        </article>

    </div>
</div>

<select id="shadow_slt" hidden="hidden">

    <option th:value="${appuser.getAppuser_question()?.getId()}"
            th:text="${appuser.getAppuser_question()?.getQuestion()}"></option>

</select>

<script>

    var _$ = [];
    $('#shadow_slt').children('option').each(function(el){_$.push( $(this).val().toString() );})
    $('.selectpicker').selectpicker('val', _$ );


    $("#form_password_text").hide();
    // Handlers
    $('.nav,ul li a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
    })

</script>

</body>
</html>
